### 7. 复用类

#### 7.2 初始化基类

​    一个类的构建过程是，从基类"向外"扩散的，所以基类在导出类构造器可以访问它之前，就已经完成了初始化。即使你不为基类创造构造器，编译器也会为你合成一个默认的构造器，改构造器将调用基类的构造器。

​	如果基类没有默认无参构造器，导出类在初始化时候必须显示的调用父类的构造器。

#### 7.5 在组合和继承之间选择

​	组合和继承都允许在新的类中放置子对象，组合是显式地这么做，而继承则是隐式的做。

​	组合技术通常用于在新中使用现有的类的功能而非它的接口这种情形。

​	继承，使用某一个现有类，并开发一个它的特殊版本。通常意味着你在使用一个通用类，并为了某种特殊需求而将其特殊化。

#### 7.6 protected关键字

​	在实际项目中，经常想要将某些事物尽可能对这个世界隐藏起来，但仍然允许导出类的成员访问他们。protected祈祷作用了。 尽管可以创建protecte域，但是最好的方式还是将域保持为private。你应当一直保留"更改底层实现"的权利，然后通过protected方法来控制类的继承者的访问权限。

#### 7.8 final关键字

许多编程语言都有某种方法，来向编译器告知一块数据是恒定不变的，有的时候数据的恒定不变是很有用的，比如：

1. 一个永不改变的编译时常亮。
2. 一个在运行时期被初始化的值，而你不希望他改变。


  对于编译器常量这种情况，编译器可以将该常量值带入任何可能用到它的计算式中，也就是说，可以在编译时执行计算式，也就是说，可以在编译时执行计算式，这就减轻了一些运行时的负担。在Java中，这类常量必须是基本数据类型，并且以关键字final表示，在对这个进行定义的时候，必须对其进行赋值。

​	一个既是static又是final的域只占据一段不能改变的存储空间。

对于基本类型，final使数值恒定不变，而用于对象引用，final使引用恒定不变。一旦引用被初始化指向一个对象，就无法再把它改为指向另一个对象。然而，对象自身确实可以被修改的，Java并未提供使任何对象恒定不变的途径（但可以自己编写类以取得对象恒定不变的效果）。这一限制同样适用于数组，他也是对象。

​	**空白final**

Java允许生成"空白final"，所谓空白final是指被声明为final但又未给定初值的域。无论什么情况，编译器都确保空白final在使用前必须被初始化。但是，空白final在关键字final的使用时提供了更大的灵活性，为此，一个类中的final域就可以做到根据对象而有所不同，却又保持恒定不变的特性。

​	**参数final**

Java允许在参数列表中以生命的方式指定参数明为final。这就意味着你在方法中更改参数应用所指向的对象。

​	**final和private关键字**	

​	类中所有的private方法都隐式的指定为是final的。由于无法取用private方法，所以也就无法覆盖它。

​	**final类**

​	当将某个类的整体定义为final时（通常将关键字final置于他的定义之前），这就表明你不打算继承该类，而且也不允许被人这样做。 出于安全考虑，你不希望它又子类。



​	**总结**

​	组合和继承都能从现有类型生成新类型。组合一般是将现有的类型作为新类型底层实现的一部分来加以复用，儿继承复用的是接口。

​	开始一个设计时候，一般应优先考虑使用组合（或者可能是代理），只在确实必要时才使用继承。

​	在设计一个系统时，目标应该是找到或创建某些类，其中每个类都有具体的用途，而且既不会太大（包含太多的功能而难以复用），也不会太小（不添加其他功能就无法使用。

​	当你设计一个系统时，应该认识到程序开发是一种增量过程，犹如人类学习一样，这一点很重要。程序开发依赖于实现，你可以尽可能去分析，但当你开始执行一个项目时，你仍然无法知道所有的答案。












































